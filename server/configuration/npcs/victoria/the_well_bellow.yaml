the_well_bellow_quest_giver:
  tree:
    start:
      dialog: 
        - line: |
            <npc> says "My toy..."
          quest_check:
            - id: the_well_bellow_quest
              state: not_started
        - line: |
            <npc> says "I hope you get my toy back, its in the well..."
          quest_check:
            - id: the_well_bellow_quest
              state: in_progress
        - line: |
            <npc> says "Do you have my toy?"
          quest_check:
            - id: the_well_bellow_quest
              state: completed
        - line: |
            <npc> yells "Choo choo!" while playing with their toy
          quest_check:
            - id: the_well_bellow_quest
              state: turned_in

      options:
        - line: |
            ask "what toy?"
          goto: not_started_the_well_bellow
          quest_check:
            - id: the_well_bellow_quest
              state: not_started
        - line: |
            hand them the toy
          goto: completed_the_well_bellow_quest
          quest_check:
            - id: the_well_bellow_quest
              state: completed
          quest_turn_in:
            id: the_well_bellow_quest
            reward_exp: 100

    not_started_the_well_bellow:
      dialog:
        - line: |
            <npc> says "I lost my toy in the well... Can you get it for me?"
      options:
        - line: |
            say "Ok"
          goto: started_the_well_bellow
          quest_check:
            - id: the_well_bellow_quest
              state: not_started
          quest_start:
            id: the_well_bellow_quest

    started_the_well_bellow:
      dialog:
        - line: |
            They hunch over the well, looking down bellow.

    completed_the_well_bellow_quest:
      dialog: 
        - line: |
            They hunch over the well again, playing with their toy "Choo choo!"
